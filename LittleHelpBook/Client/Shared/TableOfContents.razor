@inherits ResizableCachedComponent

    <section class="table-of-contents">
        @if (Cache?.Categories == null)
        {
            <p><em>Loading...</em></p>
        }
        else
        {
            <div class="category">
                @foreach (var cat in Cache.Categories)
                {
                    <h2 class="category-name h123-reset">
                           <a href="/places/cat/@cat.Id"> @cat.Name</a>
                    </h2>
                    <div class="subcategory">
                        <ul>
                            @foreach (var sub in cat.SubcategoryList)
                            {
                                <li><a href="/places/sub/@sub.Id">@sub.Name</a></li>
                            }
                        </ul>
                    </div>
                }
            </div>
        }
        </section>

@code {

    protected override async Task OnInitializedAsync()
    {
        await Cache.GetCategories();
    }


}